<!DOCTYPE html>
<html lang="en" data-theme="lightest">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="canonical" href="https://arewefuckedyet.com">
    <title>Are we fucked yet? Find the answer here!</title>

    <meta name="description" content="A dark view on current world politics and climate change">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="https://twitter.com/arewefuckedyet">
    <meta name="twitter:url" content="https://arewefuckedyet.com">
    <meta name="twitter:title" content="Are we fucked yet? We're working on it!">
    <meta name="twitter:description" content="A dark view on current world politics and climate change">
    <meta name="twitter:image" content="https://arewefuckedyet.com/img/social.png">

    <meta property="og:title" content="Are we fucked yet? We're working on it!">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://arewefuckedyet.com/img/social.png">
    <meta property="og:url" content="https://arewefuckedyet.com">
    <meta property="og:description" content="A dark view on current world politics and climate change">

    <link href="tailwind.css" rel="stylesheet" media="all">
</head>
<body>
<div class="" title="doomsday clock">
    <svg viewBox='-50 -50 100 100' width="100" height="100" title="doomsday clock">
        <circle class='clock-face' r='48' fill="#fff" />

        <!-- markers -->
        <line stroke="#000"
                class='minor'
                y1='42'
                y2='45'
              transform="rotate(180)"
        />

        <line stroke="#000"
                class='minor'
                y1='42'
                y2='45'
              transform="rotate(150)"
        />

        <line stroke="#000"
                class='minor'
                y1='42'
                y2='45'
              transform="rotate(-150)"
        />

        <line stroke="#000"
                class='minor'
                y1='42'
                y2='45'
              transform="rotate(120)"
        />

        <line stroke="#000"
                class='minor'
                y1='42'
                y2='45'
              transform="rotate(-120)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
              transform="rotate(90)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
              transform="rotate(60)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
              transform="rotate(-60)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
              transform="rotate(30)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
              transform="rotate(-30)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
              transform="rotate(-90)"
        />

        <line stroke="#000"
              class='minor'
              y1='42'
              y2='45'
        />

        <!-- hour hand -->
        <line stroke="darkred"
                stroke-width="2"
                class='hour'
                y1='3'
                y2='-20'
        />

        <!-- minute hand -->
        <line stroke="red"
                class='minute'
                stroke-width="1"
                y1='4'
                y2='-39'
                transform="rotate(1)"
        />

        <!-- second hand -->
        <g>
            <line class='second' y1='10' y2='-38' fill="#000"/>
            <line class='second-counterweight' y1='10' y2='2'/>
        </g>
    </svg>
</div>
<header class="hero min-h-screen">
    <div class="flex-col hero-content lg:flex-row-reverse">
        <div class="">
            <div class="text-center">
                <h1 class="text-9xl font-bold" id="heading">
                    I honestly don't know
                </h1>
                <p class="mt-16 mb-5 text-4xl" id="subtext">
                    There's <b>certainly</b> someone out there doing something <b>stupid</b>!
                </p>
                <p class="mt-16">
                    <a class="btn btn-primary" href="#more" title="Read more">Read more!</a>
                </p>
            </div>
        </div>
    </div>
</header>

<main class="flex flex-col lg:flex-row min-h-full" id="more">
</main>

<script type="application/javascript">
    const getHeading = function getHeading(doomsday) {
        if (!doomsday || (!doomsday.time && doomsday.time !== 0)) {
            return 'I really don\'t know';
        }

        if (doomsday.time >= (15 * 60)) {
            return 'No!';
        }

        if (doomsday.time >= (10 * 60)) {
            return 'No...'
        }

        if (doomsday.time >= (5 * 60)) {
            return 'Not quite'
        }

        if (doomsday.time >= (2* 60)) {
            return 'Not yet'
        }

        if (doomsday.time >= (2)) {
            return 'Very close now'
        }

        if (doomsday.time === 1) {
            return 'Pretty much'
        }

        return "YES!"
    }

    const getSubText = function getSubText(doomsday) {
        if (!doomsday || (!doomsday.time && doomsday.time !== 0)) {
            return 'There\'s <b>certainly</b> someone out there doing something <b>stupid</b>!';
        }

        if (doomsday.time >= (15 * 60)) {
            return 'We\'re <b>surprisingly</b> far away from it.';
        }

        if (doomsday.time >= (10 * 60)) {
            return 'But it\'s <b>not</b> looking good!'
        }

        if (doomsday.time >= (5 * 60)) {
            return '<b>But</b> we\'re getting <b>close</b>!'
        }

        if (doomsday.time >= (2* 60)) {
            return '<b>But</b> we\'re <b>actively working</b> on it!'
        }

        if (doomsday.time >= (2)) {
            return '<b>We\'ve</b> done a <b>great</b> job so far!'
        }

        if (doomsday.time === 1) {
            return 'We\'re really <b>good</b> at <b>this</b>!'
        }

        return 'Yep, <b>that\'s it</b>! I\'m <b>surprised</b> you can still read this!'
    }

    const getTheme = function getTheme(doomsday) {
        if (!doomsday || (!doomsday.time && doomsday.time !== 0)) {
            return 'light';
        }

        if (doomsday.time >= (15 * 60)) {
            return 'lightest';
        }

        if (doomsday.time >= (10 * 60)) {
            return 'lighter'
        }

        if (doomsday.time >= (5 * 60)) {
            return 'light'
        }

        if (doomsday.time >= (2* 60)) {
            return 'medium'
        }

        if (doomsday.time >= (2)) {
            return 'dark'
        }

        if (doomsday.time === 1) {
            return 'darker'
        }

        return 'darkest'
    }

    const rotateClock = function rotateClock(doomsday) {

    }



    fetch('https://arewefuckedyet.com/doomsday.json', {
        method: 'GET',
        redirect: 'follow',
        mode: 'cors',
        headers: {
            'Content-Type': 'application/json',
            'Access-Control-Request-Method': 'GET'
        }
    }).then(async function (data) {
        const jsonData = await data.json()

        const headingElement = document.getElementById('heading');
        const subTextElement = document.getElementById('subtext');
        const themeElement = document.querySelector('html');
        const minuteHand = document.querySelector('.minute');

        if (!jsonData.time && jsonData.time !== 0) {
            return data;
        }

        // we start 01 after 12 and make our round
        let intervalTime = 60 * 59;
        let localJson = JSON.parse(JSON.stringify(jsonData));

        let interval = setInterval(function () {
            let minPosition = intervalTime * 360 / 60 / 60;
            intervalTime = intervalTime - 10;

            minuteHand.style.transform = "rotate(" + (-1 * minPosition) + "deg)"

            localJson.time = intervalTime;
            const subText = getSubText(localJson);
            const heading = getHeading(localJson);
            const theme = getTheme(localJson);
            headingElement.innerHTML = heading;
            subTextElement.innerHTML = subText;
            themeElement.setAttribute('data-theme', theme)

            if (intervalTime < Number(jsonData.time)) {
                clearInterval(interval);
                return;
            }
        }, 20)

        return data;
    }).catch(function (err) {
        console.log(err);
    })
    ;
</script>
<!--
<script src="http://0.0.0.0:3000/logjs.php" defer async>
-->

</body>
</html>

